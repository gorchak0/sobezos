# Stats Service (sobezos)

## Описание

Stats Service — это микросервис платформы Sobezos, предназначенный для сбора, хранения и предоставления статистики по пользователям, задачам, активности и другим метрикам системы. Сервис может использоваться для аналитики, построения отчетов, мониторинга прогресса пользователей и выявления узких мест в платформе.

## Основные возможности

- Сбор статистики по действиям пользователей
- Хранение агрегированных и сырых метрик
- Предоставление API для получения статистики
- Интеграция с другими сервисами Sobezos для получения данных
- Возможность расширения под новые типы метрик

## Структура проекта

```
services/stats-service/
├── Dockerfile            # Docker-образ для сервиса
├── go.mod                # Зависимости Go
├── cmd/
│   └── stats-service/
│       └── main.go       # Точка входа приложения
```

## Запуск

### 1. Сборка и запуск через Docker

```
docker build -t sobezos-stats-service .
docker run sobezos-stats-service
```

Или используйте общий `docker-compose.yml` на уровень выше для запуска всех сервисов:

```
docker compose -f ../docker-compose.yml up -d stats-service
```

### 2. Локальный запуск

```
go run ./cmd/stats-service/main.go
```

## Взаимодействие с другими сервисами

Stats Service получает данные от других микросервисов (bot-service, user-service, theory-service и др.) через HTTP/gRPC API или через события (если реализовано event-driven взаимодействие).

## Основные компоненты

- **main.go** — инициализация зависимостей, запуск сервиса, настройка роутов/обработчиков
- **Dockerfile** — описание контейнера для деплоя
- **go.mod** — зависимости и версии пакетов

## Пример архитектуры

```
[Bot Service] ⇄ [Stats Service]
[User Service] ⇄ [Stats Service]
[Theory Service] ⇄ [Stats Service]
```

## Требования

- Go 1.20+
- Docker (для контейнеризации)
- Доступ к другим сервисам Sobezos (для сбора данных)

## Разработка и тестирование

- Бизнес-логика и обработчики должны быть вынесены из main.go при расширении
- Для тестирования используйте mock-данные или тестовые endpoints других сервисов
- Логи пишутся в stdout/stderr

## Безопасность

- Не публикуйте секреты и приватные данные в публичные репозитории
- Используйте переменные окружения для конфигурации

## Авторы и поддержка

- Проект Sobezos, 2025
- Вопросы и баги — через Issues на GitHub
